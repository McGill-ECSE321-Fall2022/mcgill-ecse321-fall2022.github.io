<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.8.dev">
<title>ECSE 321 Introduction to Software Engineering: Tutorial</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>ECSE 321 Introduction to Software Engineering: Tutorial</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#trueproject-management-tools-and-development-toolchain">1. Project Management Tools and Development Toolchain</a>
<ul class="sectlevel2">
<li><a href="#truegradle-a-build-framework-and-brief-example">1.1. Gradle: A Build Framework and Brief Example</a></li>
<li><a href="#truegithub-project-repository">1.2. GitHub Project Repository</a></li>
<li><a href="#truegithub-actions-for-continuous-integration">1.3. GitHub Actions for Continuous Integration</a>
<ul class="sectlevel3">
<li><a href="#truesetup-ci-workflow-and-template">1.3.1. Setup CI Workflow and Template</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#truebackend">2. Backend</a>
<ul class="sectlevel2">
<li><a href="#truethe-domain-model">2.1. The Domain Model</a></li>
<li><a href="#truedatabase-communication-with-and-without-spring-framework">2.2. Database Communication With and Without Spring Framework</a>
<ul class="sectlevel3">
<li><a href="#truecrud-transactions-without-spring">2.2.1. CRUD Transactions Without Spring</a></li>
</ul>
</li>
<li><a href="#truesetting-up-a-local-postgresql-database">2.3. Setting Up a Local PostgreSQL Database</a>
<ul class="sectlevel3">
<li><a href="#trueinstallation">2.3.1. Installation</a></li>
<li><a href="#truecreating-a-database">2.3.2. Creating a Database</a></li>
</ul>
</li>
<li><a href="#truesetting-up-a-spring-boot-project">2.4. Setting up a Spring Boot Project</a></li>
<li><a href="#truecrud-repositories">2.5. CRUD Repositories</a>
<ul class="sectlevel3">
<li><a href="#truecreating-a-crud-repository">2.5.1. Creating a CRUD Repository</a></li>
</ul>
</li>
<li><a href="#truetesting-the-persistence-layer">2.6. Testing the Persistence Layer</a>
<ul class="sectlevel3">
<li><a href="#truewriting-a-test">2.6.1. Writing a Test</a></li>
<li><a href="#truerunning-the-tests">2.6.2. Running the Tests</a></li>
<li><a href="#truedebugging-failing-tests">2.6.3. Debugging Failing Tests</a></li>
</ul>
</li>
<li><a href="#truecreating-restful-web-services-in-spring">2.7. Creating RESTful Web Services in Spring</a>
<ul class="sectlevel3">
<li><a href="#trueimplementing-service-methods">2.7.1. Implementing Service Methods</a></li>
<li><a href="#trueexposing-service-functionality-via-a-restful-api">2.7.2. Exposing Service Functionality via a RESTful API</a></li>
<li><a href="#truespring-data-an-alternative-way-to-expose-application-data-via-a-restful-interface">2.7.3. Spring Data - an Alternative Way to Expose Application Data via a RESTful Interface</a></li>
</ul>
</li>
<li><a href="#truetesting-service-methods-in-backend">2.8. Testing Service Methods in Backend</a>
<ul class="sectlevel3">
<li><a href="#trueservice-unit-testing-setup-with-mockito">2.8.1. Service Unit Testing Setup with Mockito</a></li>
<li><a href="#trueimplementing-unit-tests-for-service-class">2.8.2. Implementing Unit Tests for Service Class</a></li>
<li><a href="#trueservice-integration-testing-with-the-curl-tool">2.8.3. Service Integration Testing with the curl Tool</a></li>
<li><a href="#trueservice-integration-testing-with-springs-testresttemplate">2.8.4. Service Integration Testing with Spring&#8217;s <code>TestRestTemplate</code></a></li>
</ul>
</li>
<li><a href="#trueassessing-code-coverage-using-eclemma">2.9. Assessing Code Coverage using EclEmma</a>
<ul class="sectlevel3">
<li><a href="#truegetting-eclemma">2.9.1. Getting EclEmma</a></li>
<li><a href="#trueexample-gradle-project-for-assessing-code-coverage">2.9.2. Example Gradle Project for Assessing Code Coverage</a></li>
<li><a href="#trueretrieving-code-coverage-metrics">2.9.3. Retrieving Code Coverage Metrics</a></li>
</ul>
</li>
<li><a href="#trueevent-registration-application-unit-code-coverage">2.10. Event Registration Application Unit Code Coverage</a></li>
</ul>
</li>
<li><a href="#truefrontend">3. Frontend</a>
<ul class="sectlevel2">
<li><a href="#trueinstallation-instructions-vue-js">3.1. Installation Instructions: Vue.js</a>
<ul class="sectlevel3">
<li><a href="#trueinstall-vue-js">3.1.1. Install Vue.js</a></li>
<li><a href="#truegenerate-initial-vue-js-project-content">3.1.2. Generate initial Vue.js project content</a></li>
<li><a href="#trueinstall-additional-dependencies">3.1.3. Install additional dependencies</a></li>
<li><a href="#truesetting-up-your-development-server">3.1.4. Setting up your development server</a></li>
<li><a href="#truecommit-your-work-to-github">3.1.5. Commit your work to Github</a></li>
</ul>
</li>
<li><a href="#truecreate-a-static-vue-js-component">3.2. Create a Static Vue.js Component</a>
<ul class="sectlevel3">
<li><a href="#truecreate-a-component-file">3.2.1. Create a component file</a></li>
<li><a href="#truecreate-a-new-routing-command">3.2.2. Create a new routing command</a></li>
</ul>
</li>
<li><a href="#truevue-js-components-with-dynamic-content">3.3. Vue.js Components with Dynamic Content</a>
<ul class="sectlevel3">
<li><a href="#trueadd-data-and-event-handlers">3.3.1. Add data and event handlers</a></li>
<li><a href="#truecreate-dynamic-data-bindings">3.3.2. Create dynamic data bindings</a></li>
</ul>
</li>
<li><a href="#truecalling-backend-services">3.4. Calling Backend Services</a>
<ul class="sectlevel3">
<li><a href="#truecalling-backend-services-in-from-vue-js-components">3.4.1. Calling backend services in from Vue.js components</a></li>
</ul>
</li>
<li><a href="#trueadditional-steps-in-the-tutorial">3.5. Additional steps in the tutorial</a>
<ul class="sectlevel3">
<li><a href="#truemanaging-events">3.5.1. Managing events</a></li>
<li><a href="#truefurther-documentation">3.5.2. Further documentation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Sections of the tutorial will continuously be published at this web page.</p>
</div>
<div class="paragraph">
<p>This tutorial serves to give you the practical knowledge required to execute the group project in true AGILE fashion.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueproject-management-tools-and-development-toolchain"><a class="anchor" href="#trueproject-management-tools-and-development-toolchain"></a>1. Project Management Tools and Development Toolchain</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="truegradle-a-build-framework-and-brief-example"><a class="anchor" href="#truegradle-a-build-framework-and-brief-example"></a>1.1. Gradle: A Build Framework and Brief Example</h3>
<div class="paragraph">
<p>This section focuses on writing a Gradle (<a href="https://gradle.org/" class="bare">https://gradle.org/</a>) build script that builds a single Gradle project referred to as <em>Computation</em>. The source code and tests for a Java application is available here: <a href="https://github.com/McGill-ECSE321-Fall2020/ecse321-tutorial-notes/raw/master/resources/Computation.zip">Computation.zip</a>. It is your job to create/reorganize the folder called <em>Computation</em>, move sources and tests into that folder, and produce the Gradle build script <em>build.gradle</em> within this folder to automate the software build and testing process for this example project.</p>
</div>
<div class="paragraph">
<p>First, open a terminal, and ensure you have the newest version  of Gradle (ver. 7.0+) installed with <code>gradle --version</code>.</p>
</div>
<div class="paragraph">
<p>Follow the steps below and add the snippets listed here to <code>build.gradle</code>, one after the other:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create the following folder structure and a new <em>build.gradle</em> (empty) file within the <em>Computation</em> folder:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="none" class="language-none hljs">Computation
├── build.gradle
└── src
    ├── main
    │   └── java
    │       ├── application
    │       │   └── CompApp.java
    │       ├── computation
    │       │   └── Computation.java
    │       └── view
    │           └── ComputationPage.java
    └── test
        └── java
            └── computation
                ├── AllTests.java
                ├── ComputationTestAddSubstract.java
                └── ComputationTestDivideMultiply.java</code></pre>
</div>
</div>
<div class="paragraph">
<p>For Gradle to build your projects correctly, this is the expected file structure. The <code>src</code> folder is divided up into two subdirectories: <code>\main</code> (all application code goes here) and <code>\test</code> (all tests go here). There <strong>MUST</strong> be a <code>java</code> subfolder within both these subdirectories containing all code. If you do not follow this folder structure, you will need to define <code>SourceSets</code>. More on this later.</p>
</div>
</li>
<li>
<p>Add the <code>java</code> and the <code>application</code> plugins to the build configuration script <em>build.gradle</em>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="gradle" class="language-gradle hljs">apply plugin: 'java'
// This plugin has a predefined 'run' task that we can reuse to use Gradle to execute our application
apply plugin: 'application'</code></pre>
</div>
</div>
<div class="paragraph">
<p>A plugin is simply a set of useful tasks that bundled up that extend our project&#8217;s capabilities. There are two types of plugins:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Script
</td>
<td class="hdlist2">
<p>additional build script that is declarative in manipulating the build.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Binary
</td>
<td class="hdlist2">
<p>Classes that implement the plugin interface and programmatic in manipulating the build.</p>
<div class="paragraph">
<p>More information on plugins can be found <a href="https://docs.gradle.org/current/userguide/plugins.html">here</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Add JUnit libraries to the <code>dependencies</code> section.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="gradle" class="language-gradle hljs">repositories {
    mavenCentral()
}
dependencies {
    testImplementation "junit:junit:4.12"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dependencies are external files from other projects that our project relies on to compile, and/or test our source code. Gradle looks for dependencies in repositories. There is no default repository for Gradle so we have to specify one or several.</p>
</div>
</li>
<li>
<p>Add and describe a new task <code>compile(type: JavaCompile)</code> to specify all source files (both application and test) and set the <em>build/bin</em> as destination dir to put all compiled class files in.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="gradle" class="language-gradle hljs">task compile(type: JavaCompile) {
  classpath = sourceSets.main.compileClasspath
  classpath += sourceSets.test.runtimeClasspath
  sourceSets.test.java.outputDir = file('build/bin')
  sourceSets.main.java.outputDir = file('build/bin')
}

task stage () {
    dependsOn ':Computation:assemble'
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tasks are blocks of work gradle must perform while building our project. Tasks can essentially do anything.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
One can specify source sets and their variables the following way:
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="gradle" class="language-gradle hljs">/*
 * specifying sourceSets is not necessary in this case, since
 * we are applying the default folder structure assumed by Gradle
 */
sourceSets {
  main {
    java { srcDir 'src/main/java' }
  }
  test {
    java { srcDir 'src/test/java'}
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Although this isn&#8217;t necessary, as we follow the default folder structure assumed by Gradle, it is still good practice to do this in case our folder structure changes.</p>
</div>
</li>
<li>
<p>Specify the main class and run the application.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="gradle" class="language-gradle hljs">mainClassName='application.CompApp'</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the command line issue <code>gradle run</code></p>
</div>
</li>
<li>
<p>Describe the <code>jar</code> Gradle task (defined by the <code>java</code> plugin) to produce an executable jar file into <code>distributable/</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="gradle" class="language-gradle hljs">jar {
  destinationDir=file('distributable')
  manifest {
    // It is smart to reuse the name of the main class variable instead of hardcoding it
    attributes "Main-Class": "$mainClassName"
  }
}</code></pre>
</div>
</div>
</li>
<li>
<p>Create the <code>settings.gradle</code> file and add the following line:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="gradle" class="language-gradle hljs">include ':Computation'</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="truegithub-project-repository"><a class="anchor" href="#truegithub-project-repository"></a>1.2. GitHub Project Repository</h3>
<div class="paragraph">
<p>One of the core components of Agile development is being able to manage the development problem space. GitHub projects extends GitHub&#8217;s utility to make problem space management easy.</p>
</div>
<div class="paragraph">
<p>To create a project, click your user icon and select <em>Your projects</em> from the dropdown menu.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/GitProj4.png" alt="GitProj4">
</div>
</div>
<div class="paragraph">
<p>Select the <em>New Project</em> button to create a project. When selecting the template, select <em>Board</em> under the <strong>Start from scratch</strong> section of the pop-up menu and click <em>Create</em>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/GitProj5.png" alt="GitProj5">
</div>
</div>
<div class="paragraph">
<p>Name your project by selecting the default titular text and replacing it with your own porject&#8217;s name. This layout is known as KanBan. By default there are three columns: <strong>To do</strong>, <strong>In progress</strong> and <strong>Done</strong>. More columns can be added by clicking the <strong>+</strong> button at the far right.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/GitProj6.png" alt="GitProj6">
</div>
</div>
<div class="paragraph">
<p>Any repository can be added to a project by navigating to the <em>Projects</em> tab of the repository, selecting the <em>Add project</em> button and choosing the desired project from the dropdown menu. Project KanBan boards can be viewed by clicking the <em>Projects</em> tab of the repository and selecting the appropriate Project.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/GitProj7.PNG" alt="GitHub project cards">
</div>
</div>
<div class="paragraph">
<p>To help with better management of the project as you move through project phases, it is prudent to add Milestones. A new milestone can be created by selecting the <em>Issues</em> tab in the repository, and selecting the <em>Milestones</em> tab located next to the <em>New issue</em> button.</p>
</div>
<div class="paragraph">
<p>To create a new milestone, select the <em>New Milestone</em> button. Then, fill out the form with an appropriate name, due date and description. Once your milestone has been created, you can attach issues to the milestone and see their progress by selecting the <em>Milestones</em> tab. Name your Milestone appropriately, denote the due date and enter a description.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/GitProj11.PNG" alt="GitHub project milestone creation button">
</div>
</div>
<div class="paragraph">
<p>With Milestones and Projects set up, issues can now be assigned to the appropriate project and Milestones. Their status should be changed so they are automatically triaged under the correct KanBan column that matches. As issues are completed and closed, don&#8217;t forget to change their status. Closing issues will fill the progress bar on Milestones, while assigning the status of Done shifts issues on the KanBan board.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The status of issues can only be changed after they are created.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/GitProj8.PNG" alt="GitHub project automation">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/GitProj12.PNG" alt="GitHub project milestone tracking">
</div>
</div>
<div class="paragraph">
<p>When creating a new issue it is imperative to be concise but also as descriptive as possible. All the issues you create should have a title, with a comment to describe the issue in detail.</p>
</div>
<div class="paragraph">
<p>All issues at the time of creation should be assigned to someone. You can always change this later. Label your issues. If none of the default labels fit, new labels can be created to meet your need. This is accomplished by selecting the <em>Labels</em> tab next to the <em>Milestones</em> tab under the <em>Issues</em> section. Then click the <em>New Label</em> button. Finally, assign your issue to the appropriate milestone and project.<br></p>
</div>
<div class="paragraph">
<p>For the purpose of tracking progress through the project, never ever ever delete issues. Issues should be closed and reopened as needed but never deleted. Even if a mistake was made during creation of an issue, issues can be edited by their creator.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/GitProj14.PNG" alt="GitHub project issue creation">
</div>
</div>
<div class="paragraph">
<p>If you&#8217;ve set everything up correctly. Your issue board should match your KanBan board. The KanBan board should be a snapshot of how the project is going. Nothing should be done manually here. All the manual labor of opening, moving and triaging issues should be done on the issue board, with automated results appearing on the KanBan board.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/GitProj15.PNG" alt="GitHub project issue creation">
</div>
</div>
</div>
<div class="sect2">
<h3 id="truegithub-actions-for-continuous-integration"><a class="anchor" href="#truegithub-actions-for-continuous-integration"></a>1.3. GitHub Actions for Continuous Integration</h3>
<div class="paragraph">
<p>Conitnuous integration (CI) is at the core of Agile development. The act of writing, testing and integrating incremental amounts of code often serves to detect errors, bugs and integration pain points sooner.</p>
</div>
<div class="sect3">
<h4 id="truesetup-ci-workflow-and-template"><a class="anchor" href="#truesetup-ci-workflow-and-template"></a>1.3.1. Setup CI Workflow and Template</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to your ronitnuous integration (CI) is at the core of Agile development. The act of writing, testing and integrating incremental amountepository and select <em>Actions</em> in the repository menu tab.</p>
</li>
<li>
<p>Select <em>set up a workflow yourself</em> linked just below the title.</p>
<div class="imageblock">
<div class="content">
<img src="figs/githubactions1.png" alt="githubactions1">
</div>
</div>
<div class="paragraph">
<p>Workflows are automated processes to run one or more jobs. Each .yml file contains a single workflow.</p>
</div>
</li>
<li>
<p>Modify the contents of the main.yml to have the following content:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="yml" class="language-yml hljs">name: Java CI with Gradle

on:
  push:
    branches: master
  pull_request:
    branches: master

jobs:
  build:

    runs-on: Windows-latest

    steps:
    - uses: actions/checkout@v2
    - name: Set up JDK 16
      uses: actions/setup-java@v2
      with:
        java-version: '16'
        distribution: 'adopt'

    - name: Setup Gradle
      uses: gradle/gradle-build-action@v2

    - name: Execute Gradle build
      run: ./gradlew build</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The configurations in this YML file are used to determine the environment in which to run the specified GitHub action. Though not required, you will want these configurations to mirror the system you&#8217;re developing on if you implement build actions for the branches you are solely responsible for to make debugging errors easier. On branches with multiple developers, use configurations that have as much commonality as possible.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Each part of the .yml is described below. For more detailed coverage of GitHub Actions, visit the documentation page <a href="https://docs.github.com/en/actions">here</a>.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
name
</td>
<td class="hdlist2">
<p>Name of the workflow or work step as it will appear in the Actions and workflow insight of the GitHub repository.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
on[event]
</td>
<td class="hdlist2">
<p>Trigger event that causes execution of workflow.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
jobs
</td>
<td class="hdlist2">
<p>Groups all jobs that run in the workflow.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
runs-on
</td>
<td class="hdlist2">
<p>Configures job to run on latest version of specified OS.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
steps
</td>
<td class="hdlist2">
<p>Groups together steps of parent job.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
uses
</td>
<td class="hdlist2">
<p>Specifies what action will run on the particular step</p>
</td>
</tr>
<tr>
<td class="hdlist1">
run
</td>
<td class="hdlist2">
<p>Specifies a command to run.</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>All that&#8217;s left to do is test to make sure it works. Go to local working copy of your repository and initiate a pull, add, commit, status and push command in that order.</p>
</div>
<div class="paragraph">
<p>The result of workflow runs can be seen under the <em>Actions</em> tab of the repository.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/GitProj2.png" alt="Results of workflow run">
</div>
</div>
<div class="paragraph">
<p>To gain more insight into a workflow run, select the workflow run from the list . Even more insight can be gleaned from independent jobs by selecting them from the list of jjobs as well.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/GitProj3.png" alt="Workflow run detail">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/GitProj4.png" alt="Job details">
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truebackend"><a class="anchor" href="#truebackend"></a>2. Backend</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="truethe-domain-model"><a class="anchor" href="#truethe-domain-model"></a>2.1. The Domain Model</h3>
<div class="paragraph">
<p>Our task is to build an event registration application that allows people to register for events. Before we can program anything we need to model the application.</p>
</div>
<div class="paragraph">
<p>First, create a gradle project  following the steps given in <strong>Section 1.1</strong>. Your project structure should look like this.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="none" class="language-none hljs">EventRegistration-Backend
├── build.gradle
├── settings.gradle
└── src
    ├── main
    │   ├── java
    │   │   └── ca\mcgill\ecse321\eventregistration
    │   │        └── EventRegistrationApplication.java
    │   └── resources
    │       └── application.settings
    │
    └── test
        └── java
            └── ca\mcgill\ecse321\eventregistration
                └── EventRegistrationApplicationTests</code></pre>
</div>
</div>
<div class="paragraph">
<p>For this, use the free modelling program <a href="https://cruise.umple.org/umpleonline/">Umple</a>. Full documentation on how to use Umple can be found <a href="https://cruise.umple.org/umple/GettingStarted.html">here</a>.</p>
</div>
<div class="paragraph">
<p>Ensure that Umple is configured as shown in the image below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/UmpleConfig.png" alt="UmpleConfig">
</div>
</div>
<div class="paragraph">
<p>Our task for this tutorial will be to create a simple event registration application that allows people to sign up and register for events.</p>
</div>
<div class="paragraph">
<p>The final model can be found below and is generated by the following code:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/DomainModel.PNG" alt="DomainModel">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="Umple" class="language-Umple hljs">class RegistrationManager
{
}

class Person
{
  name;
}

class Event
{
  name;
  Date eventDate;
  Time startTime;
  Time endTime;
}

class Registration
{
  Integer id;
  }

association {
    1 RegistrationManager registrationManager &lt;@&gt;- 0..* Registration registrations;
}

association {
    1 RegistrationManager registrationManager &lt;@&gt;- 0..* Event events;
}

association {
    1 RegistrationManager registrationManager &lt;@&gt;- 0..* Person persons;
}

association {
   0..* Registration registration -&gt;  1 Event event ;
}


association {
    0..* Registration registration -&gt;  1 Person person;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Although the Umple generated Java code can be used, but is too verbose and not JPA compliant. You can see this by comparing the generated Java code to the code found in <a href="https://github.com/McGill-ECSE321-Fall2020/ecse321-tutorial-notes/raw/master/resources/Model%20Classes.zip">Model Classes.zip</a>.</p>
</div>
<div class="paragraph">
<p>This is an exercise in being able to write JPA compliant code simply by looking at the domain model. A brief explanation for relevant JPA tags is here provided:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>@Entity</strong>: Placed before the class declaration to signify an entity.</p>
</li>
<li>
<p><strong>@Id</strong>: Placed before the get method for the attribute that will serve as the primary identifier for the class.</p>
</li>
<li>
<p><strong>@OnetoMany</strong> or <strong>@ManytoOne</strong>: Placed before get method for attribute to signify the multiplicity in associative relationship between the current class and reference class. The first word is the multiplicity of the current class, with the other representing the multiplicity of the other calss. The <em>cascade</em> property being set to <em>cascadeType.ALL</em> ensures all operations of the defining class are persisted. The <em>optional</em> property being set to false means the association the tag defines must exist. In this case, the defining class cannot exist without knowledge of the referenced class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once your java code has been annotated, create a new folder under <em>src&gt;main&gt;java</em> called model and add the model files into that folder. Each class in our domain model should have its own file. Make sure your model files declare the package:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package ca.mcgill.ecse321.eventregistration.model;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Your folder structure should now look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="none" class="language-none hljs">EventRegistration-Backend
├── build.gradle
├── settings.gradle
└── src
    ├── main
    │   ├── java
    │   │   └── ca\mcgill\ecse321\eventregistration
    │   │        ├── EventRegistrationApplication.java
    │   │        └── model
    │   │            ├── Event.java
    │   │            ├── Person.java
    │   │            ├── Registration.java
    │   │            └── RegistrationManager.java
    │   └── resources
    │       └── application.settings
    │
    └── test
        └── java
            └── ca\mcgill\ecse321\eventregistration
                └── EventRegistrationApplicationTests</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truedatabase-communication-with-and-without-spring-framework"><a class="anchor" href="#truedatabase-communication-with-and-without-spring-framework"></a>2.2. Database Communication With and Without Spring Framework</h3>
<div class="paragraph">
<p>In this section we will see how to communications with the database are programmed. Don&#8217;t worry about setting up the Spring Framework or the database server for the time being. The goal is to illustrate the concept.</p>
</div>
<div class="sect3">
<h4 id="truecrud-transactions-without-spring"><a class="anchor" href="#truecrud-transactions-without-spring"></a>2.2.1. CRUD Transactions Without Spring</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Verify</strong> the contents of the <code>EventRegistrationBackendApplication</code> class:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package ca.mcgill.ecse321.eventregistration;

import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.SpringApplication;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.bind.annotation.RequestMapping;

@RestController
@SpringBootApplication
public class EventRegistrationBackendApplication {

	public static void main(String[] args) {
		SpringApplication.run(EventRegistrationApplication.class, args);
	}

	@RequestMapping("/")
	public String greeting() {
		return "Hello world!";
	}
}</code></pre>
</div>
</div>
</li>
<li>
<p>Create a new package in <code>src/main/java</code> and name it <code>ca.mcgill.ecse321.eventregistration.dao</code>.</p>
</li>
<li>
<p>Create the <code>EventRegistrationRepository</code> class within this new package</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package ca.mcgill.ecse321.eventregistration.dao;

import java.sql.Date;
import java.sql.Time;
import java.util.List;

import javax.persistence.EntityManager;
import javax.persistence.TypedQuery;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Repository;
import org.springframework.transaction.annotation.Transactional;

import ca.mcgill.ecse321.eventregistration.model.Person;
import ca.mcgill.ecse321.eventregistration.model.Event;

@Repository
public class EventRegistrationRepository {

	@Autowired
	EntityManager entityManager;

	@Transactional
	public Person createPerson(String name) {
		Person p = new Person();
		p.setName(name);
		entityManager.persist(p);
		return p;
	}

	@Transactional
	public Person getPerson(String name) {
		Person p = entityManager.find(Person.class, name);
		return p;
	}

	@Transactional
	public Event createEvent(String name, Date date, Time startTime, Time endTime) {
		Event e = new Event();
		e.setName(name);
		e.setDate(date);
		e.setStartTime(startTime);
		e.setEndTime(endTime);
		entityManager.persist(e);
		return e;
	}

	@Transactional
	public Event getEvent(String name) {
		Event e = entityManager.find(Event.class, name);
		return e;
	}

}</code></pre>
</div>
</div>
</li>
<li>
<p>Add a new method that gets all events before a specified date (<code>deadline</code>). Use a typed query created from an SQL command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Transactional
public List&lt;Event&gt; getEventsBeforeADeadline(Date deadline) {
	TypedQuery&lt;Event&gt; q = entityManager.createQuery("select e from Event e where e.date &lt; :deadline",Event.class);
	q.setParameter("deadline", deadline);
	List&lt;Event&gt; resultList = q.getResultList();
	return resultList;
}</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To try the methods, you can create a JUnit test under <em>src/test/java</em>. Currently the methods in <code>EventRegistrationRepository</code> directly access the objects stored in the database via the <code>EntityManager</code> instance and these methods should implement both database operations and service business logic (including input validation&#8201;&#8212;&#8201;which we omitted in this part). In later sections, however, we will see how we can easily separate the database access and the service business logic in Spring applications.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truesetting-up-a-local-postgresql-database"><a class="anchor" href="#truesetting-up-a-local-postgresql-database"></a>2.3. Setting Up a Local PostgreSQL Database</h3>
<div class="paragraph">
<p>In this section, we will set up a local PostgreSQL database to store our application&#8217;s data.</p>
</div>
<div class="sect3">
<h4 id="trueinstallation"><a class="anchor" href="#trueinstallation"></a>2.3.1. Installation</h4>
<div class="paragraph">
<p>Download PostgreSQL 14.5 from <a href="https://www.enterprisedb.com/downloads/postgres-postgresql-downloads" class="bare">https://www.enterprisedb.com/downloads/postgres-postgresql-downloads</a>. Once the download is complete, run the installer. You can stick with the default values for most screens.</p>
</div>
<div class="paragraph">
<p>The default installation directory should be fine.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/psql-setup-installation-directory.png" alt="PostgreSQL installation: installation directory" width="400">
</div>
</div>
<div class="paragraph">
<p>Leave every component checked.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/psql-setup-components.png" alt="PostgreSQL installation: components" width="400">
</div>
</div>
<div class="paragraph">
<p>The default data directory should be fine.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/psql-setup-data-directory.png" alt="PostgreSQL installation: data directory" width="400">
</div>
</div>
<div class="paragraph">
<p>Choose a password. <em>IMPORTANT: do not forget this password. You will need it later.</em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/psql-setup-password.png" alt="PostgreSQL installation: password" width="400">
</div>
</div>
<div class="paragraph">
<p>The default port number should be fine. However, there&#8217;s no problem using a different port number in case a different app is using 5432 for some reason. Just remember your choice so that you know which port your app should connect to.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/psql-setup-port.png" alt="PostgreSQL installation: port number" width="400">
</div>
</div>
<div class="paragraph">
<p>The default locale should be fine.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/psql-setup-locale.png" alt="PostgreSQL installation: locale" width="400">
</div>
</div>
<div class="paragraph">
<p>The summary might look something like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/psql-setup-summary.png" alt="PostgreSQL installation: summary" width="400">
</div>
</div>
<div class="paragraph">
<p>There&#8217;s no need for other tools, so you can skip the Stack Builder after the installation by unchecking the checkbox.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/psql-setup-skip-stack-builder.png" alt="PostgreSQL installation: skip Stack Builder" width="400">
</div>
</div>
</div>
<div class="sect3">
<h4 id="truecreating-a-database"><a class="anchor" href="#truecreating-a-database"></a>2.3.2. Creating a Database</h4>
<div class="paragraph">
<p>Once PostgreSQL is installed, you should be able to connect to your local instance by running the command <code>psql -U postgres</code> and entering your password (I hope you haven&#8217;t forgotten it already).</p>
</div>
<div class="paragraph">
<p>A server can host multiple databases. Create a new database for the event registration app using the command</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">CREATE DATABASE event_registration;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Check that the database exists by running the command <code>\l</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/psql-create-database.png" alt="PostgreSQL create database">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truesetting-up-a-spring-boot-project"><a class="anchor" href="#truesetting-up-a-spring-boot-project"></a>2.4. Setting up a Spring Boot Project</h3>
<div class="paragraph">
<p>In this section, we will use Spring Initializr to quickly generate the folder structure and some files for a new Spring Boot project.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to <a href="https://start.spring.io/" class="bare">https://start.spring.io/</a>.</p>
</li>
<li>
<p>Set the project type to Gradle.</p>
</li>
<li>
<p>Leave the Spring Boot version at the default value (2.7.5).</p>
</li>
<li>
<p>Set the names for the group, package, etc.</p>
</li>
<li>
<p>Set the Java version (17 should be fine).</p>
</li>
<li>
<p>Add the following dependencies:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>web</p>
</li>
<li>
<p>data-jpa</p>
</li>
<li>
<p>postgresql</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/Spring-Initializr.png" alt="Spring Initializr">
</div>
</div>
<div class="paragraph">
<p>Click "GENERATE" and you should get a zip file with the following files and folders.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">.
├── HELP.md
├── build.gradle
├── gradle
│   └── wrapper
│       ├── gradle-wrapper.jar
│       └── gradle-wrapper.properties
├── gradlew
├── gradlew.bat
├── settings.gradle
└── src
    ├── main
    │   ├── java
    │   │   └── ca
    │   │       └── mcgill
    │   │           └── ecse321
    │   │               └── eventregistration
    │   │                   └── EventRegistrationApplication.java
    │   └── resources
    │       ├── application.properties
    │       ├── static
    │       └── templates
    └── test
        └── java
            └── ca
                └── mcgill
                    └── ecse321
                        └── eventregistration
                            └── EventRegistrationApplicationTests.java</code></pre>
</div>
</div>
<div class="paragraph">
<p>Open <code>application.properties</code> and write the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">server.port = ${PORT:8080}

spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.hibernate.ddl-auto=update

spring.datasource.url=jdbc:postgresql://localhost:5432/event_registration
spring.datasource.username=postgres
spring.datasource.password=PASSWORD</code></pre>
</div>
</div>
<div class="paragraph">
<p>(<code>PASSWORD</code> is the password you chose while setting up the local database.)</p>
</div>
</div>
<div class="sect2">
<h3 id="truecrud-repositories"><a class="anchor" href="#truecrud-repositories"></a>2.5. CRUD Repositories</h3>
<div class="paragraph">
<p>Previously, in the <code>ca.mcgill.ecse321.eventregistration.dao.EventRegistrationRepository</code> class we used an instance of <code>javax.persistence.EntityManager</code> from Hibernate to directly implement the required operations related to saving/retrieving data to/from a database (Create, Read, Update, and Delete operations, shortly, CRUD).
This section will introduce the Spring framework&#8217;s inbuilt support for such CRUD operations via the <code>org.springframework.data.repository.CrudRepository</code> interface and will show how to use such repositories to implement your use cases in so-called <em>service</em> classes.</p>
</div>
<div class="paragraph">
<p>If you would like to, you can obtain a version of the project that already has the code for the backend and model classes from the previous tutorials <a href="https://github.com/McGill-ECSE321-Fall2020/eventregistration">here</a>.</p>
</div>
<div class="sect3">
<h4 id="truecreating-a-crud-repository"><a class="anchor" href="#truecreating-a-crud-repository"></a>2.5.1. Creating a CRUD Repository</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a new interface <code>PersonRepository</code> in the <code>ca.mcgill.ecse321.eventregistration.dao</code> package and extend the <code>CrudRepository&lt;Person, String&gt;</code> interface</p>
</li>
<li>
<p>Create a new method <code>Person findByName(String name)</code></p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package ca.mcgill.ecse321.eventregistration.dao;

import org.springframework.data.repository.CrudRepository;

import ca.mcgill.ecse321.eventregistration.model.Person;

public interface PersonRepository extends CrudRepository&lt;Person, String&gt;{

	Person findPersonByName(String name);

}</code></pre>
</div>
</div>
</li>
<li>
<p>Since Spring supports automated JPA Query creation from method names (see <a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation">possible language constructs here</a>) <strong>we don&#8217;t need to implement the interface manually</strong>, Spring JPA will create the corresponding queries runtime! This way we don&#8217;t need to write SQL queries either.</p>
</li>
<li>
<p>Create interfaces for the <code>Event</code> and <code>Registration</code> classes as well<br>
<em>EventRepository.java</em>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package ca.mcgill.ecse321.eventregistration.dao;

import org.springframework.data.repository.CrudRepository;

import ca.mcgill.ecse321.eventregistration.model.Event;

public interface EventRepository extends CrudRepository&lt;Event, String&gt; {

	Event findEventByName(String name);

}</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>RegistrationRepository.java</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package ca.mcgill.ecse321.eventregistration.dao;

import java.util.List;

import org.springframework.data.repository.CrudRepository;

import ca.mcgill.ecse321.eventregistration.model.Event;
import ca.mcgill.ecse321.eventregistration.model.Person;
import ca.mcgill.ecse321.eventregistration.model.Registration;

public interface RegistrationRepository extends CrudRepository&lt;Registration, Integer&gt; {

	List&lt;Registration&gt; findByPerson(Person personName);

	boolean existsByPersonAndEvent(Person person, Event eventName);

	Registration findByPersonAndEvent(Person person, Event eventName);

}</code></pre>
</div>
</div>
</li>
<li>
<p>Finally, create a new package in <code>src/main/java</code> and name it <code>ca.mcgill.ecse321.eventregistration.model</code>. Place all the model classes generated in the Step 2.4. By now, all the errors in all other packages should be resolved automatically. In the end, you should have the given below structure in terms of packages.<br></p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/package-structure-1.png" alt="Package Structure" width="400">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truetesting-the-persistence-layer"><a class="anchor" href="#truetesting-the-persistence-layer"></a>2.6. Testing the Persistence Layer</h3>
<div class="paragraph">
<p>Now we will write some tests to verify that our persistence layer is working as expected.</p>
</div>
<div class="sect3">
<h4 id="truewriting-a-test"><a class="anchor" href="#truewriting-a-test"></a>2.6.1. Writing a Test</h4>
<div class="paragraph">
<p>The basic structure of a repository layer test is:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a new object.</p>
</li>
<li>
<p>Save the object to the database using the repository.</p>
</li>
<li>
<p>Read the object from the database using the repository.</p>
</li>
<li>
<p>Assert that the object from the database has the correct attributes.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Use dependency injection (via the <code>@Autowired</code> annotation) to get an instance of your repository. Also add the <code>@Test</code> annotation to each test method.</p>
</div>
<div class="paragraph">
<p>You also want to clear the database after each run so that you don&#8217;t waste storage space and so that you avoid violating any unique constraints. Define a method <code>clearDatabase()</code> with the annotation <code>@AfterEach</code> that clears all relevant tables.</p>
</div>
<div class="paragraph">
<p>The test class for the <code>PersonRepository</code> should be similar to the following code. The package and import statements have been omited for clarity.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">@SpringBootTest
public class PersonRepositoryTests {
	@Autowired
	private PersonRepository personRepository;

	@AfterEach
	public void clearDatabase() {
		personRepository.deleteAll();
	}

	@Test
	public void testPersistAndLoadPerson() {
		// Create object
		String name = "Anakin Skywalker";
		Person anakin = new Person();
		anakin.setName(name);

		// Save object
		anakin = personRepository.save(anakin);
		int id = anakin.getId();

		// Read object from database
		anakin = personRepository.findPersonById(id);

		// Assert that object has correct attributes
		assertNotNull(anakin);
		assertEquals(name, anakin.getName());
	}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The test class for the <code>RegistrationRepository</code> should look something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">@SpringBootTest
public class RegistrationRepositoryTests {
	@Autowired
	private PersonRepository personRepository;
	@Autowired
	private EventRepository eventRepository;
	@Autowired
	private RegistrationRepository registrationRepository;

	@AfterEach
	public void clearDatabase() {
		// Delete the registrations first to avoid violating not-null constraint
		registrationRepository.deleteAll();

		personRepository.deleteAll();
		eventRepository.deleteAll();
	}

	@Test
	public void testPersistAndLoadRegistration() {
		String eventName = "Order 66";
		Date date = Date.valueOf("2022-09-06");
		Time startTime = Time.valueOf("16:00:00");
		Time endTime = Time.valueOf("17:00:00");
		Event event = new Event();
		event.setName(eventName);
		event.setEventDate(date);
		event.setStartTime(startTime);
		event.setEndTime(endTime);
		// You need to manually save this before saving the registration: Hibernate doesn't seem to do it for you
		eventRepository.save(event);

		String participantName = "Anakin Skywalker";
		Person participant = new Person();
		participant.setName(participantName);
		participant = personRepository.save(participant);
		int participantId = participant.getId();

		Registration registration = new Registration();
		registration.setEvent(event);
		registration.setParticipant(participant);

		registration = registrationRepository.save(registration);
		int registrationId = registration.getId();

		registration = null;
		event = null;
		participant = null;

		registration = registrationRepository.findRegistrationById(registrationId);

		assertNotNull(registration);
		assertEquals(registrationId, registration.getId());

		assertNotNull(registration.getEvent());
		assertEquals(eventName, registration.getEvent().getName());

		assertNotNull(registration.getParticipant());
		assertEquals(participantId, registration.getParticipant().getId());
	}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Creating a class to test the persistence of <code>Event</code> objects is left as an exercise. It is similar to the test class for <code>Person</code> objects.</p>
</div>
</div>
<div class="sect3">
<h4 id="truerunning-the-tests"><a class="anchor" href="#truerunning-the-tests"></a>2.6.2. Running the Tests</h4>
<div class="paragraph">
<p>To run the tests, <code>cd</code> into the <code>EventRegistration-Backend</code> folder and issue the command <code>./gradlew test</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="truedebugging-failing-tests"><a class="anchor" href="#truedebugging-failing-tests"></a>2.6.3. Debugging Failing Tests</h4>
<div class="paragraph">
<p>You will almost certainly encounter failing tests at some point. When this happens, it is usually helpful to read the stack trace and see if there are any helpful hints. At first you will probably find that the stack traces are short and not very informative. Add the following snippet inside the <code>test</code> task in your <code>build.gradle</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">testLogging {
	exceptionFormat "full"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Re-run the tests and you should see much longer stack traces with helpful hints. Focus on the "Caused by:" parts.</p>
</div>
<div class="paragraph">
<p>If <em>all</em> the tests are failing (including <code>contextLoads()</code>), it means your project failed to start. This is generally because it failed to connect to the database or there is an issue with your model.</p>
</div>
<div class="sect4">
<h5 id="truecommon-errors"><a class="anchor" href="#truecommon-errors"></a>Common Errors</h5>
<div class="ulist">
<ul>
<li>
<p>Missing or badly-formatted data in <code>application.properties</code>. You need a database driver, the URL of an existing database, a username, and a password. The database URL is particularly easy to mess up: it needs to follow the format <code>jdbc:postgresql://localhost:port/database_name</code>.</p>
</li>
<li>
<p>Using reserved keywords for class names (e.g., <code>User</code>). This will result in a nasty SQL syntax error.</p>
</li>
<li>
<p>Incorrectly named repository methods. For example, if you have a property <code>eventName</code> and you call your repository method <code>findEventByName()</code>, Spring will complain that there&#8217;s no property called <code>name</code> in the <code>Event</code> class.</p>
</li>
<li>
<p>Missing annotations. For example, if you forget an <code>@Id</code> annotation, Spring will complain that there&#8217;s no unique identifier for your class.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truecreating-restful-web-services-in-spring"><a class="anchor" href="#truecreating-restful-web-services-in-spring"></a>2.7. Creating RESTful Web Services in Spring</h3>
<div class="paragraph">
<p>The following steps provide guidance on (1) implementing business logic that implements the required functionality (classes annotated with <code>@Service</code>) and (2) exposing them using a REST API in the context of the Event Registration Application (classes annotated with <code>@RestController</code>).</p>
</div>
<div class="sect3">
<h4 id="trueimplementing-service-methods"><a class="anchor" href="#trueimplementing-service-methods"></a>2.7.1. Implementing Service Methods</h4>
<div class="paragraph">
<p>We implement use-cases in <em>service classes</em> by using the DAOs for each data type of the domain model.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In <em>src/main/java</em>, create a new package <code>ca.mcgill.ecse321.eventregistration.service</code>.</p>
</li>
<li>
<p>In this package, create the <code>EventRegistrationService</code> class as shown below</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package ca.mcgill.ecse321.eventregistration.service;

import java.sql.Date;
import java.sql.Time;
import java.util.ArrayList;
import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

import ca.mcgill.ecse321.eventregistration.dao.EventRepository;
import ca.mcgill.ecse321.eventregistration.dao.PersonRepository;
import ca.mcgill.ecse321.eventregistration.dao.RegistrationRepository;
import ca.mcgill.ecse321.eventregistration.model.Event;
import ca.mcgill.ecse321.eventregistration.model.Person;
import ca.mcgill.ecse321.eventregistration.model.Registration;

@Service
public class EventRegistrationService {

	@Autowired
	EventRepository eventRepository;
	@Autowired
	PersonRepository personRepository;
	@Autowired
	RegistrationRepository registrationRepository;

	@Transactional
	public Person createPerson(String name) {
		Person person = new Person();
		person.setName(name);
		personRepository.save(person);
		return person;
	}

	@Transactional
	public Person getPerson(String name) {
		Person person = personRepository.findPersonByName(name);
		return person;
	}

	@Transactional
	public List&lt;Person&gt; getAllPersons() {
		return toList(personRepository.findAll());
	}

	@Transactional
	public Event createEvent(String name, Date date, Time startTime, Time endTime) {
		Event event = new Event();
		event.setName(name);
		event.setDate(date);
		event.setStartTime(startTime);
		event.setEndTime(endTime);
		eventRepository.save(event);
		return event;
	}

	@Transactional
	public Event getEvent(String name) {
		Event event = eventRepository.findEventByName(name);
		return event;
	}

	@Transactional
	public List&lt;Event&gt; getAllEvents() {
		return toList(eventRepository.findAll());
	}

	@Transactional
	public Registration register(Person person, Event event) {
		Registration registration = new Registration();
		registration.setId(person.getName().hashCode() * event.getName().hashCode());
		registration.setPerson(person);
		registration.setEvent(event);

		registrationRepository.save(registration);

		return registration;
	}

	@Transactional
	public List&lt;Registration&gt; getAllRegistrations(){
		return toList(registrationRepository.findAll());
	}

	@Transactional
	public List&lt;Event&gt; getEventsAttendedByPerson(Person person) {
		List&lt;Event&gt; eventsAttendedByPerson = new ArrayList&lt;&gt;();
		for (Registration r : registrationRepository.findByPerson(person)) {
			eventsAttendedByPerson.add(r.getEvent());
		}
		return eventsAttendedByPerson;
	}

	private &lt;T&gt; List&lt;T&gt; toList(Iterable&lt;T&gt; iterable){
		List&lt;T&gt; resultList = new ArrayList&lt;T&gt;();
		for (T t : iterable) {
			resultList.add(t);
		}
		return resultList;
	}

}</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="trueexposing-service-functionality-via-a-restful-api"><a class="anchor" href="#trueexposing-service-functionality-via-a-restful-api"></a>2.7.2. Exposing Service Functionality via a RESTful API</h4>
<div class="sect4">
<h5 id="truebuilding-a-restful-web-service-using-a-controller-and-data-transfer-objects"><a class="anchor" href="#truebuilding-a-restful-web-service-using-a-controller-and-data-transfer-objects"></a>Building a RESTful Web Service Using a Controller and Data Transfer Objects</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>We first create a new package <code>ca.mcgill.ecse321.eventregistration.controller</code> in EventRegistration-Backend and then create <code>EventRegistrationRestController</code> class inside it. We add the annotation <code>@RestController</code> to the controller class so that HTTP requests can be dispacthed to <code>EventRegistrationRestController</code> class. In addition, we enabled the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">Cross-Origin Resource Sharing</a> for any domain using the <code>@CrossOrigin</code> annotation on the REST controller class.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package ca.mcgill.ecse321.eventregistration.controller;

import org.springframework.web.bind.annotation.CrossOrigin;
import org.springframework.web.bind.annotation.RestController;

@CrossOrigin(origins = "*")
@RestController
public class EventRegistrationRestController {

	@Autowired
	private EventRegistrationService service;

}</code></pre>
</div>
</div>
</li>
<li>
<p>We further create another package ca.mcgill.ecse321.eventregistration.dto and create the below Data Transfer Object (DTO) classes inside that package. First we create EventDto.java.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Data Access Object (DAO) != Data Transfer Object (DTO). These two are completely separate concepts, as you will also see below. These two should not be confused with each other.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package ca.mcgill.ecse321.eventregistration.dto;

import java.sql.Date;
import java.sql.Time;

public class EventDto {

	private String name;
	private Date eventDate;
	private Time startTime;
	private Time endTime;

	public EventDto() {
	}

	public EventDto(String name) {
		this(name, Date.valueOf("1971-01-01"), Time.valueOf("00:00:00"), Time.valueOf("23:59:59"));
	}

	public EventDto(String name, Date eventDate, Time startTime, Time endTime) {
		this.name = name;
		this.eventDate = eventDate;
		this.startTime = startTime;
		this.endTime = endTime;
	}

	public String getName() {
		return name;
	}

	public Date getEventDate() {
		return eventDate;
	}

	public Time getStartTime() {
		return startTime;
	}

	public Time getEndTime() {
		return endTime;
	}

}</code></pre>
</div>
</div>
</li>
<li>
<p>Next, we create <code>PersonDto</code> Java class.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package ca.mcgill.ecse321.eventregistration.dto;

import java.util.Collections;
import java.util.List;

public class PersonDto {

	private String name;
	private List&lt;EventDto&gt; events;

	public PersonDto() {
	}

	@SuppressWarnings("unchecked")
	public PersonDto(String name) {
		this(name, Collections.EMPTY_LIST);
	}

	public PersonDto(String name, List&lt;EventDto&gt; arrayList) {
		this.name = name;
		this.events = arrayList;
	}

	public String getName() {
		return name;
	}

	public List&lt;EventDto&gt; getEvents() {
		return events;
	}

	public void setEvents(List&lt;EventDto&gt; events) {
		this.events = events;
	}

}</code></pre>
</div>
</div>
</li>
<li>
<p>Finally, we create <code>RegistrationDto</code> Java class.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package ca.mcgill.ecse321.eventregistration.dto;

public class RegistrationDto {

	private PersonDto person;
	private EventDto event;

	public RegistrationDto() {
	}

	public RegistrationDto(PersonDto person, EventDto event) {
		this.person = person;
		this.event = event;
	}

	public PersonDto getperson() {
		return person;
	}

	public void setperson(PersonDto person) {
		this.person = person;
	}

	public EventDto getEvent() {
		return event;
	}

	public void setEvent(EventDto event) {
		this.event = event;
	}
}</code></pre>
</div>
</div>
</li>
<li>
<p>We start adding the methods in the <code>EventRegistrationRestController</code> class. Also, we will add annotaions to map HTTP requests.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
In Spring Tools Suite (a.k.a. Eclipse), you can organize Java imports with kbd:[Ctrl+Shift+o]
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@GetMapping(value = { "/persons", "/persons/" })
public List&lt;PersonDto&gt; getAllPersons() {
	return service.getAllPersons().stream().map(p -&gt; convertToDto(p)).collect(Collectors.toList());
}

@PostMapping(value = { "/persons/{name}", "/persons/{name}/" })
public PersonDto createPerson(@PathVariable("name") String name) throws IllegalArgumentException {
	Person person = service.createPerson(name);
	return convertToDto(person);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>@RequestMapping</code> annotation is used to map HTTP requests to Spring Controller methods. Since, <code>@RequestMapping</code> maps all HTTP operations by default. We can use <code>@GetMapping</code>, <code>@PostMapping</code> and so forth to narrow this mapping to specific HTTP operations.</p>
</div>
<div class="paragraph">
<p>Moreover, in the above snippet, we use the <code>value</code> parameter of <code>@PathVariable</code> annotation to bind the value of the query string parameter name into the name parameter of the <code>createPerson()</code> method.</p>
</div>
</li>
<li>
<p>You can add other methods similarly with appropriate mappings.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@PostMapping(value = { "/events/{name}", "/events/{name}/" })
public EventDto createEvent(@PathVariable("name") String name, @RequestParam Date date,
@RequestParam @DateTimeFormat(iso = DateTimeFormat.ISO.TIME, pattern = "HH:mm") LocalTime startTime,
@RequestParam @DateTimeFormat(iso = DateTimeFormat.ISO.TIME, pattern = "HH:mm") LocalTime endTime)
throws IllegalArgumentException {
	Event event = service.createEvent(name, date, Time.valueOf(startTime), Time.valueOf(endTime));
	return convertToDto(event);
}

@GetMapping(value = { "/events", "/events/" })
public List&lt;EventDto&gt; getAllEvents() {
	List&lt;EventDto&gt; eventDtos = new ArrayList&lt;&gt;();
	for (Event event : service.getAllEvents()) {
		eventDtos.add(convertToDto(event));
	}
	return eventDtos;
}

@PostMapping(value = { "/register", "/register/" })
public RegistrationDto registerPersonForEvent(@RequestParam(name = "person") PersonDto pDto,
	@RequestParam(name = "event") EventDto eDto) throws IllegalArgumentException {
	Person p = service.getPerson(pDto.getName());
	Event e = service.getEvent(eDto.getName());

	Registration r = service.register(p, e);
	return convertToDto(r, p, e);
}

@GetMapping(value = { "/registrations/person/{name}", "/registrations/person/{name}/" })
public List&lt;EventDto&gt; getEventsOfPerson(@PathVariable("name") PersonDto pDto) {
	Person p = convertToDomainObject(pDto);
	return createEventDtosForPerson(p);
}

@GetMapping(value = { "/events/{name}", "/events/{name}/" })
public EventDto getEventByName(@PathVariable("name") String name) throws IllegalArgumentException {
	return convertToDto(service.getEvent(name));
}

private EventDto convertToDto(Event e) {
	if (e == null) {
		throw new IllegalArgumentException("There is no such Event!");
	}
	EventDto eventDto = new EventDto(e.getName(),e.getDate(),e.getStartTime(),e.getEndTime());
	return eventDto;
}

private PersonDto convertToDto(Person p) {
	if (p == null) {
		throw new IllegalArgumentException("There is no such Person!");
	}
	PersonDto personDto = new PersonDto(p.getName());
	personDto.setEvents(createEventDtosForPerson(p));
	return personDto;
}

private RegistrationDto convertToDto(Registration r, Person p, Event e) {
	EventDto eDto = convertToDto(e);
	PersonDto pDto = convertToDto(p);
	return new RegistrationDto(pDto, eDto);
}

private Person convertToDomainObject(PersonDto pDto) {
	List&lt;Person&gt; allPersons = service.getAllPersons();
	for (Person person : allPersons) {
		if (person.getName().equals(pDto.getName())) {
			return person;
		}
	}
	return null;
}

private List&lt;EventDto&gt; createEventDtosForPerson(Person p) {
	List&lt;Event&gt; eventsForPerson = service.getEventsAttendedByPerson(p);
	List&lt;EventDto&gt; events = new ArrayList&lt;&gt;();
	for (Event event : eventsForPerson) {
		events.add(convertToDto(event));
	}
	return events;
}</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="truetrying-smoke-testing-of-the-application"><a class="anchor" href="#truetrying-smoke-testing-of-the-application"></a>Trying (Smoke Testing of) the Application</h5>
<div class="paragraph">
<p>We can see if our application is able to respond to HTTP requests using, e.g., the Postman (Chrome), RESTClient browser plugin (Firefox), Advanced Rest Client (Firefox), or the command line tool called <code>curl</code>.</p>
</div>
<div class="paragraph">
<p>Once you launch the client, you can specify the path and select the method as shown in the below figures.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/RestClient1.png" alt="Post method on REST Client" width="1000">
</div>
</div>
<div class="paragraph">
<p>Once we use POST, the record is persisted and then we can use the GET method to retrive the same.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="figs/RestClient2.png" alt="GET method on REST Client" width="1000">
</div>
</div>
<div class="paragraph">
<p>Similary, we can try other methods as well.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="truespring-data-an-alternative-way-to-expose-application-data-via-a-restful-interface"><a class="anchor" href="#truespring-data-an-alternative-way-to-expose-application-data-via-a-restful-interface"></a>2.7.3. Spring Data - an Alternative Way to Expose Application Data via a RESTful Interface</h4>
<div class="paragraph">
<p>The advantage of using <em>Spring Data Rest</em> is that it can remove a lot of boilerplate compared to the previous sections. Spring would automatically create endpoints for classes, such as <code>/events</code> and <code>/person</code> in the Event Registration example. In this case, implementing proper error handling may require some extra effort (not discussed here).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This section presents an alternative way of exposing your data via a REST API. <strong>You do not have to use this method</strong> if you do not think that it fits your design.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add the dependency 'spring-boot-starter-data-rest' in <em>build.gradle</em> file of your backend. It is required to expose Spring Data repositories over REST using Spring Data REST. Update your <code>dependencies</code> section as shown below:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="gradle" class="language-gradle hljs">dependencies {
	implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
	implementation 'org.springframework.boot:spring-boot-starter-web'
	implementation 'org.springframework.boot:spring-boot-starter-data-rest'

	runtimeOnly 'org.postgresql:postgresql'
	testImplementation('org.springframework.boot:spring-boot-starter-test') {
		exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'
	}
}</code></pre>
</div>
</div>
</li>
<li>
<p>We have already added the dependency <code>spring-boot-starter-data-rest</code> exposes DAOs over RESTful endpoints using Spring Data REST.</p>
</li>
<li>
<p>Next, we can go to repository interfaces and add a <code>@RepositoryRestResource</code> annotaion.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">// REST endpoint specification
@RepositoryRestResource(collectionResourceRel = "person_data", path = "person_data")
public interface PersonRepository extends CrudRepository&lt;Person, String&gt;{

	Person findPersonByName(String name);

}</code></pre>
</div>
</div>
</li>
<li>
<p>Finally, we can access this REST API (<code><a href="http://localhost:8080/person_data" class="bare">http://localhost:8080/person_data</a></code>) in the browser or REST Client and will receive the JSON as shown below.</p>
<div class="imageblock">
<div class="content">
<img src="figs/RestClient3.png" alt="Post method on REST Client" width="1000">
</div>
</div>
</li>
<li>
<p>Exercise: turn on this <em>Spring Data JPA</em> feature for events and registrations, too.</p>
</li>
<li>
<p>Question: what information do we see in the response?</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truetesting-service-methods-in-backend"><a class="anchor" href="#truetesting-service-methods-in-backend"></a>2.8. Testing Service Methods in Backend</h3>
<div class="sect3">
<h4 id="trueservice-unit-testing-setup-with-mockito"><a class="anchor" href="#trueservice-unit-testing-setup-with-mockito"></a>2.8.1. Service Unit Testing Setup with Mockito</h4>
<div class="paragraph">
<p>We need extra dependencies to support testing of the business methods in isolation.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add the following dependencies to the project:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="gradle" class="language-gradle hljs">testImplementation 'org.mockito:mockito-core:2.+'
testImplementation 'org.mockito:mockito-junit-jupiter:2.18.3'

testRuntime 'org.junit.jupiter:junit-jupiter-engine:5.3.1'</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Finding configuration settings for your Gradle/Maven projects is very simple by searaching for them on MVNRepository: <a href="https://mvnrepository.com/" class="bare">https://mvnrepository.com/</a>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>If you also would like to run your project from Eclipse, add an additional dependency:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="gradle" class="language-gradle hljs">testImplementation 'org.junit.platform:junit-platform-launcher:1.4.1'</code></pre>
</div>
</div>
</li>
<li>
<p>Create a test class (in case you don&#8217;t already have one) <code>TestEventRegistrationService</code> in the corresponding package under <code>src/test/java</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package ca.mcgill.ecse321.eventregistration.service;

import org.junit.jupiter.api.extension.ExtendWith;
import org.mockito.junit.jupiter.MockitoExtension;


@ExtendWith(MockitoExtension.class)
public class TestEventRegistrationService {

}</code></pre>
</div>
</div>
</li>
<li>
<p>Build your project to ensure its dependencies are correctly loaded.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="trueimplementing-unit-tests-for-service-class"><a class="anchor" href="#trueimplementing-unit-tests-for-service-class"></a>2.8.2. Implementing Unit Tests for Service Class</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add the following static imports for methods:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertNull;
import static org.junit.jupiter.api.Assertions.fail;
import static org.mockito.ArgumentMatchers.any;
import static org.mockito.ArgumentMatchers.anyString;
import static org.mockito.Mockito.lenient;
import static org.mockito.Mockito.when;</code></pre>
</div>
</div>
</li>
<li>
<p>Add the following imports to the test class:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">import java.sql.Date;
import java.sql.Time;
import java.time.LocalTime;
import java.time.format.DateTimeFormatter;
import java.util.Calendar;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.mockito.InjectMocks;
import org.mockito.Mock;
import org.mockito.invocation.InvocationOnMock;
import org.mockito.junit.jupiter.MockitoExtension;
import org.mockito.stubbing.Answer;

import ca.mcgill.ecse321.eventregistration.dao.EventRepository;
import ca.mcgill.ecse321.eventregistration.dao.PersonRepository;
import ca.mcgill.ecse321.eventregistration.dao.RegistrationRepository;
import ca.mcgill.ecse321.eventregistration.model.Event;
import ca.mcgill.ecse321.eventregistration.model.Person;
import ca.mcgill.ecse321.eventregistration.model.Registration;</code></pre>
</div>
</div>
</li>
<li>
<p>Create the DAO mock for person</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Mock
private PersonRepository personDao;

@InjectMocks
private EventRegistrationService service;

private static final String PERSON_KEY = "TestPerson";

@BeforeEach
public void setMockOutput() {
    lenient().when(personDao.findPersonByName(anyString())).thenAnswer( (InvocationOnMock invocation) -&gt; {
        if(invocation.getArgument(0).equals(PERSON_KEY)) {
            Person person = new Person();
            person.setName(PERSON_KEY);
            return person;
        } else {
            return null;
        }
    });
}</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>lenient()</code> tells Mockito not to warn us if we set up unnecessary mocks. You may prefer not to use <code>lenient()</code> to get those warnings. In that case, you will probably need to define the mock behaviour for each test separately. See <a href="https://github.com/McGill-ECSE321-Fall2022/EventRegistration-Monday/blob/main/EventRegistration-Backend/src/test/java/ca/mcgill/ecse321/eventregistration/service/PersonServiceTests.java" class="bare">https://github.com/McGill-ECSE321-Fall2022/EventRegistration-Monday/blob/main/EventRegistration-Backend/src/test/java/ca/mcgill/ecse321/eventregistration/service/PersonServiceTests.java</a> for an example of unit tests without <code>lenient()</code>.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add test cases from the <a href="https://gist.githubusercontent.com/imbur/d8836dc9f44ece65186a43ac80a259fd/raw/ff59449ad4dfadfc2c54bb317649300f6ae2409c/TestEventRegistrationService.java">complete test suite that is available from here</a>.</p>
</li>
<li>
<p>Run the tests as JUnit/Gradle tests and interpret the test error messages! You should see only a few (at least one) tests passing.</p>
</li>
<li>
<p>Update the implementation (i.e., replace the current service method codes with the ones provided below) of the following methods with input validation in the <code>EventRegistrationService</code> service class to make the tests pass (we are rapid simulating a TDD process&#8201;&#8212;&#8201;TDD stands for <em>Test-Driven Development</em>)</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Transactional
public Person createPerson(String name) {
	if (name == null || name.trim().length() == 0) {
		throw new IllegalArgumentException("Person name cannot be empty!");
	}
	Person person = new Person();
	person.setName(name);
	personRepository.save(person);
	return person;
}

@Transactional
public Person getPerson(String name) {
    if (name == null || name.trim().length() == 0) {
        throw new IllegalArgumentException("Person name cannot be empty!");
    }
    Person person = personRepository.findPersonByName(name);
    return person;
}

@Transactional
public Event getEvent(String name) {
    if (name == null || name.trim().length() == 0) {
        throw new IllegalArgumentException("Event name cannot be empty!");
    }
    Event event = eventRepository.findEventByName(name);
    return event;
}

@Transactional
public Event createEvent(String name, Date date, Time startTime, Time endTime) {
    // Input validation
    String error = "";
    if (name == null || name.trim().length() == 0) {
        error = error + "Event name cannot be empty! ";
    }
    if (date == null) {
        error = error + "Event date cannot be empty! ";
    }
    if (startTime == null) {
        error = error + "Event start time cannot be empty! ";
    }
    if (endTime == null) {
        error = error + "Event end time cannot be empty! ";
    }
    if (endTime != null &amp;&amp; startTime != null &amp;&amp; endTime.before(startTime)) {
        error = error + "Event end time cannot be before event start time!";
    }
    error = error.trim();
    if (error.length() &gt; 0) {
        throw new IllegalArgumentException(error);
    }

    Event event = new Event();
    event.setName(name);
    event.setDate(date);
    event.setStartTime(startTime);
    event.setEndTime(endTime);
    eventRepository.save(event);
    return event;
}

@Transactional
public Registration register(Person person, Event event) {
    String error = "";
    if (person == null) {
        error = error + "Person needs to be selected for registration! ";
    } else if (!personRepository.existsById(person.getName())) {
        error = error + "Person does not exist! ";
    }
    if (event == null) {
        error = error + "Event needs to be selected for registration!";
    } else if (!eventRepository.existsById(event.getName())) {
        error = error + "Event does not exist!";
    }
    if (registrationRepository.existsByPersonAndEvent(person, event)) {
        error = error + "Person is already registered to this event!";
    }
    error = error.trim();

    if (error.length() &gt; 0) {
        throw new IllegalArgumentException(error);
    }

    Registration registration = new Registration();
	registration.setId(person.getName().hashCode() * event.getName().hashCode());
    registration.setPerson(person);
    registration.setEvent(event);

    registrationRepository.save(registration);

    return registration;
}

@Transactional
public List&lt;Event&gt; getEventsAttendedByPerson(Person person) {
    if (person == null ) {
        throw new IllegalArgumentException("Person cannot be null!");
    }
    List&lt;Event&gt; eventsAttendedByPerson = new ArrayList&lt;&gt;();
    for (Registration r : registrationRepository.findByPerson(person)) {
        eventsAttendedByPerson.add(r.getEvent());
    }
    return eventsAttendedByPerson;
}</code></pre>
</div>
</div>
</li>
<li>
<p>Run the tests again, and all should be passing this time.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="trueservice-integration-testing-with-the-curl-tool"><a class="anchor" href="#trueservice-integration-testing-with-the-curl-tool"></a>2.8.3. Service Integration Testing with the curl Tool</h4>
<div class="paragraph">
<p>The command line utility <a href="https://curl.haxx.se/"><code>curl</code></a> is one way to automate integration testing for the REST API of your application. This brief section shows a basic examples for using it for testing with persons.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Make sure you have a clean database for your integration tests. This can be done by using the <code>spring.jpa.hibernate.ddl-auto=create-drop</code> setting in the <em>application.properties</em> file for the test backend, or by exposing a database clear API function that is only used durint integration testing.</p>
</li>
<li>
<p>Start the backend server.</p>
</li>
<li>
<p>Issue <code>curl -s <a href="http://localhost:8080/persons" class="bare">http://localhost:8080/persons</a></code> and observe the output!</p>
</li>
<li>
<p>Use the <code>-X</code> switch to specify the used HTTP method:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ curl -s -X POST http://localhost:8080/persons/testperson1
{"name":"testperson1","events":[]}
$ curl -s -X POST http://localhost:8080/persons/testperson2
{"name":"testperson2","events":[]}
$ curl -s -X http://localhost:8080/persons
[{"name":"testperson1","events":[]},{"name":"testperson2","events":[]}]</code></pre>
</div>
</div>
</li>
<li>
<p>To verify that a given content is in the returned values, you can use the standard output result of the command and filter it, for example, using <code>grep</code></p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ curl -s -X GET  http://localhost:8080/persons | grep -o testperson1
testperson1</code></pre>
</div>
</div>
</li>
<li>
<p>A way to get started with implementing a Gradle task for integration testing (expected in the second deliverable) is to call a command line tool (e.g., <code>curl</code>) from Gradle. Gradle documentation has a section on how to achieve this: <a href="https://docs.gradle.org/5.6.2/dsl/org.gradle.api.tasks.Exec.html#org.gradle.api.tasks.Exec" class="bare">https://docs.gradle.org/5.6.2/dsl/org.gradle.api.tasks.Exec.html#org.gradle.api.tasks.Exec</a></p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="trueservice-integration-testing-with-springs-testresttemplate"><a class="anchor" href="#trueservice-integration-testing-with-springs-testresttemplate"></a>2.8.4. Service Integration Testing with Spring&#8217;s <code>TestRestTemplate</code></h4>
<div class="paragraph">
<p>As an alternative to the <code>curl</code> tool, you can test your application directly in your Spring project using the <code>TestRestTemplate</code>. This has a few benefits. For example, you can use built-in assertion methods to more precisely specify your test success conditions and you don&#8217;t need any extra steps to integrate these tests into your build system: running <code>./gradlew clean test</code> will automatically run the integration tests. It&#8217;s also nice to be able to see the code coverage for your integration tests, even if it&#8217;s not required for your project.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a new integration testing class and annotate it with <code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)</code>. This tells Spring to launch the app with a random port (to avoid conflicts if you are already running the app separately).</p>
</li>
<li>
<p>Autowire a <code>TestRestTemplate</code>. This will act as your API client (like the Advanced REST Client, Postman, or <code>curl</code>).</p>
</li>
<li>
<p>Autowire any repositories you need to clear the database before your tests.</p>
</li>
<li>
<p>You can send POST requests to your API using <code>TestRestTemplate.postForEntity()</code>, send GET requests using <code>TestRestTemplate.getForEntity()</code>, and so on. You&#8217;ll need to specify:</p>
<div class="ulist">
<ul>
<li>
<p>A URL (which does not need to include the base URL, since the autowired <code>TestRestTemplate</code> already knows where your app is running)</p>
</li>
<li>
<p>The type of object you expect to receive in response. You may find it helpful to create a new package-private DTO class to represent this response</p>
</li>
<li>
<p>For requests that include a body (e.g., POST), the body</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>A simple suite of integration tests for the <code>Person</code>-related endpoints might look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertNotNull;
import static org.junit.jupiter.api.Assertions.assertTrue;

import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.context.SpringBootTest.WebEnvironment;
import org.springframework.boot.test.web.client.TestRestTemplate;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;

import ca.mcgill.ecse321.eventregistration.repository.PersonRepository;

@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)
public class PersonIntegrationTests {

	@Autowired
	private TestRestTemplate client;

	@Autowired
	private PersonRepository personRepo;

	@BeforeEach
	@AfterEach
	public void clearDatabase() {
		personRepo.deleteAll();
	}

	@Test
	public void testCreateAndGetPerson() {
		int id = testCreatePerson();
		testGetPerson(id);
	}

	private int testCreatePerson() {
		ResponseEntity&lt;PersonDto&gt; response = client.postForEntity("/person", new PersonDto("Obi-Wan Kenobi"), PersonDto.class);

		assertNotNull(response);
		assertEquals(HttpStatus.CREATED, response.getStatusCode(), "Response has correct status");
		assertNotNull(response.getBody(), "Response has body");
		assertEquals("Obi-Wan Kenobi", response.getBody().getName(), "Response has correct name");
		assertTrue(response.getBody().getId() &gt; 0, "Response has valid ID");

		return response.getBody().getId();
	}

	private void testGetPerson(int id) {
		ResponseEntity&lt;PersonDto&gt; response = client.getForEntity("/person/" + id, PersonDto.class);

		assertNotNull(response);
		assertEquals(HttpStatus.OK, response.getStatusCode(), "Response has correct status");
		assertNotNull(response.getBody(), "Response has body");
		assertEquals("Obi-Wan Kenobi", response.getBody().getName(), "Response has correct name");
		assertTrue(response.getBody().getId() == id, "Response has correct ID");
	}

	@Test
	public void testCreateInvalidPerson() {
		ResponseEntity&lt;String&gt; response = client.postForEntity("/person", new PersonDto("   "), String.class);

		assertNotNull(response);
		assertEquals(HttpStatus.BAD_REQUEST, response.getStatusCode(), "Response has correct status");
	}

	@Test
	public void testGetInvalidPerson() {
		ResponseEntity&lt;String&gt; response = client.getForEntity("/person/" + Integer.MAX_VALUE, String.class);

		assertNotNull(response);
		assertEquals(HttpStatus.NOT_FOUND, response.getStatusCode(), "Response has correct status");
		assertEquals("Person not found.", response.getBody(), "Response has correct error message");
	}
}

class PersonDto {
	private int id;
	private String name;

	// Need default constructor so that Jackson can instantiate the object
	public PersonDto() {}

	public PersonDto(String name) {
		this.name = name;
	}

	public int getId() {
		return this.id;
	}

	public String getName() {
		return this.name;
	}
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueassessing-code-coverage-using-eclemma"><a class="anchor" href="#trueassessing-code-coverage-using-eclemma"></a>2.9. Assessing Code Coverage using EclEmma</h3>
<div class="paragraph">
<p>This tutorial covers the basics of EclEmma and retrieves code coverage metrics using it.</p>
</div>
<div class="sect3">
<h4 id="truegetting-eclemma"><a class="anchor" href="#truegetting-eclemma"></a>2.9.1. Getting EclEmma</h4>
<div class="paragraph">
<p>Install EclEmma as a plugin in your Eclipse IDE from <a href="https://www.eclemma.org/installation.html">here</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The Spring Tools Suite (STS) version of Eclipse already ships with the plugin pre-installed, so you can skip this step if you are using STS.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="trueexample-gradle-project-for-assessing-code-coverage"><a class="anchor" href="#trueexample-gradle-project-for-assessing-code-coverage"></a>2.9.2. Example Gradle Project for Assessing Code Coverage</h4>
<div class="paragraph">
<p>We will create a Gradle project from scratch and be testing a simple method <em>returnAverage(int[], int, int, int)</em> .</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a new Gradle project in Eclipse by clicking on <em>File</em> &gt; <em>New</em> &gt; <em>Other</em><br>
image::coverage-1.png[New Project]</p>
</li>
<li>
<p>Under <em>Gradle</em>, choose Gradle Project<br>
image::coverage-2.png[New Gradle Project]</p>
</li>
<li>
<p>Click on <em>Next</em>, then name your project <em>tutorial7</em>, click on <em>Finish</em><br>
image::coverage-3.png[Project Name]<br></p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The project may take some time to be created.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create a new package instead of the default ones for both the source and test folders (e.g <code>ca.mcgill.ecse321.tutorial7</code>) and move the default generated classes (<code>Library</code> and <code>LibraryTest</code>) to this package.<br>
image::coverage-4.png[Create Packages]</p>
</li>
<li>
<p>Change the code in the <code>Library</code> class</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package ca.mcgill.ecse321.tutorial7;

public class Library {

	public static double returnAverage(int value[], int arraySize, int MIN, int MAX) {
		int index, ti, tv, sum;
		double average;
		index = 0;
		ti = 0;
		tv = 0;
		sum = 0;
		while (ti &lt; arraySize &amp;&amp; value[index] != -999) {
			ti++;
			if (value[index] &gt;= MIN &amp;&amp; value[index] &lt;= MAX) {
				tv++;
				sum += value[index];
			}
			index++;
		}
		if (tv &gt; 0)
			average = (double) sum / tv;
		else
			average = (double) -999;
		return average;
	}
}</code></pre>
</div>
</div>
</li>
<li>
<p>Change the code in the <code>LibraryTest</code> class</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package ca.mcgill.ecse321.tutorial7;

import static org.junit.Assert.assertEquals;

import org.junit.Test;

public class LibraryTest {

	@Test
	public void allBranchCoverageMinimumTestCaseForReturnAverageTest1() {
		int[] value = {5, 25, 15, -999};
		int AS = 4;
		int min = 10;
		int max = 20;
		double average = Library.returnAverage(value, AS, min, max);
		assertEquals(15, average, 0.1);
	}

	@Test
	public void allBranchCoverageMinimumTestCaseForReturnAverageTest2() {
		int[] value = {};
		int AS = 0;
		int min = 10;
		int max = 20;
		double average = Library.returnAverage(value, AS, min, max);
		assertEquals(-999.0, average, 0.1);
	}
}</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="trueretrieving-code-coverage-metrics"><a class="anchor" href="#trueretrieving-code-coverage-metrics"></a>2.9.3. Retrieving Code Coverage Metrics</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
We can straightforwardly manage code coverage using JaCoCo inside Eclipse with no configuration if we are using EclEmma Eclipse plugin.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the Test in coverage mode using Eclemma. Click on <em>LibraryTest</em>, <em>Coverage As</em>, <em>1 JUnit Test</em><br>
image::coverage-5.png[Full Branch Coverage]</p>
</li>
<li>
<p>Verify that we have 100% branch coverage.<br>
image::coverage-6.png[Full Branch Coverage-Eclemma]</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueevent-registration-application-unit-code-coverage"><a class="anchor" href="#trueevent-registration-application-unit-code-coverage"></a>2.10. Event Registration Application Unit Code Coverage</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Check the code coverage of the service unit tests in the EventRegistration-Backend project.</p>
</li>
<li>
<p>If you want to run the tests using gradle, use the <em>Jacoco plugin</em> with plugin ID <code>jacoco</code>. After adding it to the <em>build.gradle</em> file, the plugin section should look like the one below:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="gradle" class="language-gradle hljs">plugins {
	id 'org.springframework.boot' version '2.2.4.RELEASE'
	id 'io.spring.dependency-management' version '1.0.9.RELEASE'
	id 'java'
	id 'jacoco'
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>This new plugin gives us the <code>jacocoTestReport</code> task that can generate html reports. Try executing this task from the terminal and see the generated HTML files under <em>build/reports/jacoco/test/html/</em>!</p>
</li>
<li>
<p>If you wish, you can check enforce a certain treshold on the test cases with this Jacoco plugin. With the definition below, the <code>./gradlew jacocoTestCoverageVerification</code> task will fail if code coverage is below 60%.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="gradle" class="language-gradle hljs">jacocoTestCoverageVerification {
	violationRules {
		rule {
			limit {
				minimum = 0.6
			}
		}
	}
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truefrontend"><a class="anchor" href="#truefrontend"></a>3. Frontend</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="trueinstallation-instructions-vue-js"><a class="anchor" href="#trueinstallation-instructions-vue-js"></a>3.1. Installation Instructions: Vue.js</h3>
<div class="paragraph">
<p><a href="https://vuejs.org/v2/guide/">Vue.js</a> is a popular web frontend for building
user interfacs in Javascript, which is considered to be easier to learn compared to <a href="https://reactjs.org/">React</a> and
<a href="https://angular.io/">Angular</a>.</p>
</div>
<div class="sect3">
<h4 id="trueinstall-vue-js"><a class="anchor" href="#trueinstall-vue-js"></a>3.1.1. Install Vue.js</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open a shell (or run <strong>cmd.exe</strong> in Windows)</p>
</li>
<li>
<p>Check that you successfully installed <strong>node.js</strong> and <strong>npm</strong> e.g. by checking their versions:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ node -v
v10.21.0 (or higher)
$ npm -v
6.14.4 (or higher)</code></pre>
</div>
</div>
</li>
<li>
<p>Install the command line interface (CLI) for Vue: <code>npm install -g @vue/cli</code></p>
</li>
<li>
<p>Install the init add-on for vue-cli: <code>npm install -g @vue/cli-init</code></p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="truegenerate-initial-vue-js-project-content"><a class="anchor" href="#truegenerate-initial-vue-js-project-content"></a>3.1.2. Generate initial Vue.js project content</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to your local Git repository of the Event Registration System</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ cd ~/git/eventregistration</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Generate initial content as follows</p>
<div class="ulist">
<ul>
<li>
<p>Hit <kbd>Enter</kbd> after each line if not indicated otherwise</p>
</li>
<li>
<p>Detailed instructions at <a href="https://github.com/vuejs-templates/webpack" class="bare">https://github.com/vuejs-templates/webpack</a> and <a href="https://bootstrap-vue.js.org/docs" class="bare">https://bootstrap-vue.js.org/docs</a></p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ vue init bootstrap-vue/webpack eventregistration-frontend
? Project name (EventRegistration-Frontend) eventregistration-frontend
? Project description (A Vue.js project) A Vue.js frontend for Event Registration App
? Author (Your Name &lt;your.email@provider.com&gt;)
? Vue build (Use arrow keys):
&gt; Runtime + Compiler
  Runtime-only
? Install vue-router (Y/n): Y
? Use ESLint to lint your code (Y/n): n
? Setup unit tests with Karma + Mocha (Y/n) Y
? Setup e2e tests with Nightwatch (Y/n) Y

vue-cli · Generated "eventregistration-frontend".</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Rename the generated directory to match the naming convention applied for the backend project</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">mv eventregistration-frontend/ EventRegistration-Frontend</code></pre>
</div>
</div>
</li>
<li>
<p>Now execute the following commands (one after the other)</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ cd EventRegistration-Frontend
$ npm install
$ npm run dev</code></pre>
</div>
</div>
</li>
<li>
<p>As a result A sample web page should appear at <a href="http://localhost:8080/" class="bare">http://localhost:8080/</a></p>
</li>
<li>
<p>You can stop this development server by pressing <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>C</kbd></span> in the shell</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="trueinstall-additional-dependencies"><a class="anchor" href="#trueinstall-additional-dependencies"></a>3.1.3. Install additional dependencies</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install JQuery and Axios (we will use these dependencies for issuing REST API calls):</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">npm install --save jquery
npm install --save axios</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="truesetting-up-your-development-server"><a class="anchor" href="#truesetting-up-your-development-server"></a>3.1.4. Setting up your development server</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>We change the default port to <strong>8087</strong> (instead of the default 8080) and
the default IP address by using a configuration file.
The rationale behind this step is that other Tomcat servers may already listen at
the default localhost:8080 port which may clash with our development server.</p>
</li>
<li>
<p>Open <strong>./config/index.js</strong> and add <code>port: 8087</code> to <code>module.exports</code>
(both <code>build</code> and <code>dev</code> part)</p>
<div class="ulist">
<ul>
<li>
<p>The development server is set up at localhost, i.e. <a href="http://127.0.0.1:8087" class="bare">http://127.0.0.1:8087</a></p>
</li>
<li>
<p>The production server is set up in accordance with the virtual machines</p>
</li>
<li>
<p>We also store the host IP address and port of the backend server
in similar environment variables (<code>backendHost</code> and <code>backendPort</code>).</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="js" class="language-js hljs">module.exports = {
  build: {
    env: require('./prod.env'),
    host: '127.0.0.1',
    port: 8087,
    backendHost: '127.0.0.1',
    backendPort: 8080,
    //...
  },
  dev: {
    env: require('./dev.env'),
    host: '127.0.0.1',
    port: 8087,
    backendHost: '127.0.0.1',
    backendPort: 8080,
    //...
  }
}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Open <strong>./build/dev-server.js</strong>, and change the <code>uri</code> assignment as follows:</p>
<div class="ulist">
<ul>
<li>
<p>The original line of code can be commented or deleted.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="js" class="language-js hljs">//var uri = 'http://localhost:' + port
var host = config.dev.host
var uri = 'http://' + host + ':' + port</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Start again your development server by <code>npm run dev</code>.
The same web application should now appear at <a href="http://127.0.0.1:8087/" class="bare">http://127.0.0.1:8087/</a></p>
</li>
<li>
<p>Stop the development server by pressing <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>C</kbd></span>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="truecommit-your-work-to-github"><a class="anchor" href="#truecommit-your-work-to-github"></a>3.1.5. Commit your work to Github</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If everything works then commit your work to your Github repository.</p>
</li>
<li>
<p>Notice that many libraries and files are omitted, which is intentional. Check the <code>.gitignore</code> file for details.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truecreate-a-static-vue-js-component"><a class="anchor" href="#truecreate-a-static-vue-js-component"></a>3.2. Create a Static Vue.js Component</h3>
<div class="paragraph">
<p>Vue.js promotes the use of <a href="https://vuejs.org/v2/guide/components.html">components</a>
which encapsulate GUI elements and their behavior in order to build up rich user interfaces in a modular way. A component consists of</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>template</strong>: A template of (a part of) an HTML document enriched with
data bindings, conditional expressions, loops, etc.</p>
</li>
<li>
<p><strong>script</strong>: The behavior of the user interface programmed in JavaScript.</p>
</li>
<li>
<p><strong>style</strong>: The customized graphical appearance of HTML document elements.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We will first create a new Vue.js component and then connect it to a backend
Java Spring service via a Rest API call.</p>
</div>
<div class="sect3">
<h4 id="truecreate-a-component-file"><a class="anchor" href="#truecreate-a-component-file"></a>3.2.1. Create a component file</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
We use <code>.</code> below to refer to the <code>EventRegistration-Frontend</code> directory.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a new file <strong>EventRegistration.vue</strong> in <strong>./src/components</strong> with  the
following initial content:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;template&gt;
&lt;/template&gt;
&lt;script&gt;
&lt;/script&gt;
&lt;style&gt;
&lt;/style&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Create some static HTML content of the template part starting with a <code>&lt;div&gt;</code> element
corresponding to your component. We</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;template&gt;
  &lt;div id="eventregistration"&gt;
    &lt;h2&gt;People&lt;/h2&gt;
    &lt;table&gt;
      &lt;tr&gt;
          &lt;td&gt;John&lt;/td&gt;
          &lt;td&gt;Event to attend&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;
              &lt;input type="text" placeholder="Person Name"&gt;
          &lt;/td&gt;
          &lt;td&gt;
              &lt;button&gt;Create&lt;/button&gt;
          &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
    &lt;p&gt;
      &lt;span style="color:red"&gt;Error: Message text comes here&lt;/span&gt;
    &lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Customize the <code>&lt;style&gt;</code> part with your designated CSS content. A detailed
CSS reference documentation is available at <a href="https://www.w3schools.com/CSSref/" class="bare">https://www.w3schools.com/CSSref/</a>.
The final result of that part should like as follows.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="HTML" class="language-HTML hljs">&lt;style&gt;
  #eventregistration {
    font-family: 'Avenir', Helvetica, Arial, sans-serif;
    color: #2c3e50;
    background: #f2ece8;
  }
&lt;/style&gt;</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="truecreate-a-new-routing-command"><a class="anchor" href="#truecreate-a-new-routing-command"></a>3.2.2. Create a new routing command</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>We need to route certain HTTP calls to a specific URL to be handled by
<strong>EventRegistration.vue</strong>.</p>
</li>
<li>
<p>Open  <strong>./src/router/index.js</strong> and add a new route by extending the existing
<code>routes</code> property.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="javascript" class="language-javascript hljs">export default new Router({
  routes: [
    {
      path: '/',
      name: 'Hello',
      component: Hello
    },
    {
      path: '/app',
      name: 'EventRegistration',
      component: EventRegistration
    }
  ]
})</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>You should not change the number of spaces used as indentation otherwise you get error messages, if you have LInt enabled in your project.</p>
</li>
<li>
<p>Import the new component <code>EventRegistration.vue</code> at the beginning of <strong>./src/router/index.js</strong> after all existing imports!</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="javascript" class="language-javascript hljs">// add import after all existing imports
import EventRegistration from '@/components/EventRegistration'</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Start the development server and navigate your browser to <a href="http://127.0.0.1:8087/#/app" class="bare">http://127.0.0.1:8087/#/app</a>.
Your new Vue.js component should be rendered (with the static HTML content).</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truevue-js-components-with-dynamic-content"><a class="anchor" href="#truevue-js-components-with-dynamic-content"></a>3.3. Vue.js Components with Dynamic Content</h3>
<div class="sect3">
<h4 id="trueadd-data-and-event-handlers"><a class="anchor" href="#trueadd-data-and-event-handlers"></a>3.3.1. Add data and event handlers</h4>
<div class="paragraph">
<p>Next we add event handling and dynamic content to our EventRegistration.vue component.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create another file <strong>registration.js</strong> in the same folder which will contain
the Javascript code for the EventRegistration.vue component.</p>
</li>
<li>
<p>Create constructor methods:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="javascript" class="language-javascript hljs">function PersonDto (name) {
  this.name = name
  this.events = []
}

function EventDto (name, date, start, end) {
  this.name = name
  this.eventDate = date
  this.startTime = start
  this.endTime = end
}</code></pre>
</div>
</div>
</li>
<li>
<p>Add data variables to the export declaration of the component.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="javascript" class="language-javascript hljs">export default {
  name: 'eventregistration',
  data () {
    return {
      persons: [],
      newPerson: '',
      errorPerson: '',
      response: []
    }
  },
  //...
}</code></pre>
</div>
</div>
</li>
<li>
<p>Add an initialization function below the data part.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="javascript" class="language-javascript hljs">created: function () {
    // Test data
    const p1 = new PersonDto('John')
    const p2 = new PersonDto('Jill')
    // Sample initial content
    this.persons = [p1, p2]
  },</code></pre>
</div>
</div>
</li>
<li>
<p>Add event handling method  <strong>createPerson()</strong>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="javascript" class="language-javascript hljs">methods: {
    createPerson: function (personName) {
      // Create a new person and add it to the list of people
      var p = new PersonDto(personName)
      this.persons.push(p)
      // Reset the name field for new people
      this.newPerson = ''
    }
  }</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="truecreate-dynamic-data-bindings"><a class="anchor" href="#truecreate-dynamic-data-bindings"></a>3.3.2. Create dynamic data bindings</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open <code>EventRegistration.vue</code> and link the Javascript file as script:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;script src="./registration.js"&gt;
&lt;/script&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Change the static template content for the person list to dynamic bindings:</p>
<div class="ulist">
<ul>
<li>
<p>We iterate along all people in data property <code>people</code> and
dynamically print their name by <code>{{ person.name }}</code> (see <a href="https://vuejs.org/v2/guide/list.html">list rendering</a>)</p>
</li>
<li>
<p>We print the (currently empty) list of events to which a person is registered to.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;template&gt;
  &lt;div id="eventregistration"&gt;
    &lt;h2&gt;Persons&lt;/h2&gt;
      &lt;table&gt;
        &lt;tr v-for="person in persons" :key="person.name"&gt;
            &lt;td&gt;{{ person.name }}&lt;/td&gt;
            &lt;td&gt;
              &lt;ul&gt;
                &lt;li v-for="event in person.events" :key="event.name"&gt;
                  {{event.name}}
                &lt;/li&gt;
              &lt;/ul&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
    &lt;!-- ... --&gt;
    &lt;/table&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Link input field content with data variable <code>newPerson</code> and
button clicks for <strong>Create Person</strong> for event handler method  <code>createPerson()</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;table&gt;
  &lt;!-- ... --&gt;
&lt;tr&gt;
    &lt;td&gt;
        &lt;input type="text" v-model="newPerson" placeholder="Person Name"&gt;
    &lt;/td&gt;
    &lt;td&gt;
        &lt;button v-bind:disabled="!newPerson" @click="createPerson(newPerson)"&gt;Create Person&lt;/button&gt;
    &lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Bind the error message to the corresponding variable <code>errorPerson</code>
by extending the <code>&lt;span&gt;</code> tag with <a href="https://vuejs.org/v2/guide/conditional.html">conditional rendering</a>.</p>
<div class="ulist">
<ul>
<li>
<p>The error message will only appear if the data property <code>errorPerson</code> is not empty.</p>
</li>
<li>
<p>You may wish to further refine error handling in case of empty string content
for <code>newPerson</code>  by adding <code>&amp;&amp; !newPerson</code> to the condition.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;span v-if="errorPerson" style="color:red"&gt;Error: {{errorPerson}} &lt;/span&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Run your frontend application and observe that two people are listed.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truecalling-backend-services"><a class="anchor" href="#truecalling-backend-services"></a>3.4. Calling Backend Services</h3>
<div class="paragraph">
<p>Next we change our frontend to issue calls to the backend via the Rest API provided
by the Java Spring framework. Please refer to the section 3.6.2 where we enabled the Cross-Origin Resource Sharing at the controller level using '@CrossOrigin' notation.</p>
</div>
<div class="sect3">
<h4 id="truecalling-backend-services-in-from-vue-js-components"><a class="anchor" href="#truecalling-backend-services-in-from-vue-js-components"></a>3.4.1. Calling backend services in from Vue.js components</h4>
<div class="paragraph">
<p>We need to modify our frontend to make calls to backend services.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open <strong>registration.js</strong> and add the following content to the beginning:</p>
<div class="ulist">
<ul>
<li>
<p>Note that instead of hard-wired IP addresses and ports, details are given in
a configuration file.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="javascript" class="language-javascript hljs">import axios from 'axios'
var config = require('../../config')

var frontendUrl = 'http://' + config.dev.host + ':' + config.dev.port
var backendUrl = 'http://' + config.dev.backendHost + ':' + config.dev.backendPort

var AXIOS = axios.create({
  baseURL: backendUrl,
  headers: { 'Access-Control-Allow-Origin': frontendUrl }
})</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Now navigate to the <strong>created</strong> function, and replace existing content
with the following lines:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="javascript" class="language-javascript hljs">  created: function () {
    // Initializing persons from backend
    AXIOS.get('/persons')
    .then(response =&gt; {
      // JSON responses are automatically parsed.
      this.persons = response.data
    })
    .catch(e =&gt; {
      this.errorPerson = e
    })
    // Initializing events
    AXIOS.get('/events')
    .then(response =&gt; {
      this.events = response.data
    })
    .catch(e =&gt; {
      this.errorEvent = e
      // this.errors.push(e)
    })
  }</code></pre>
</div>
</div>
</li>
<li>
<p>Navigate to the <strong>createPerson()</strong> method and change its content as follows:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="javascript" class="language-javascript hljs">createPerson: function (personName) {
      AXIOS.post('/persons/'.concat(personName), {}, {})
        .then(response =&gt; {
        // JSON responses are automatically parsed.
          this.persons.push(response.data)
          this.errorPerson = ''
          this.newPerson = ''
        })
        .catch(e =&gt; {
          var errorMsg = e.response.data.message
          console.log(errorMsg)
          this.errorPerson = errorMsg
        })
    }</code></pre>
</div>
</div>
</li>
<li>
<p>Run the frontend application and check that</p>
<div class="ulist">
<ul>
<li>
<p>New people can be added</p>
</li>
<li>
<p>They immediately appear in the people list.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueadditional-steps-in-the-tutorial"><a class="anchor" href="#trueadditional-steps-in-the-tutorial"></a>3.5. Additional steps in the tutorial</h3>
<div class="sect3">
<h4 id="truemanaging-events"><a class="anchor" href="#truemanaging-events"></a>3.5.1. Managing events</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>List all events (name, eventDate, startTime, endTime)</strong></p>
<div class="ulist">
<ul>
<li>
<p>Introduce an array <strong>events</strong> in the frontend data store</p>
<div class="paragraph">
<p>Update your <em>registration.js</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="javascript" class="language-javascript hljs">  data() {
    return {
      persons: [],
      events: [],
      // ... other data members
    }
  },</code></pre>
</div>
</div>
</li>
<li>
<p>Call the appropriate backend service to fill the contents</p>
<div class="paragraph">
<p>Update your <em>registration.js</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="javascript" class="language-javascript hljs">  created: function () {
    // Initializing persons
    // See: was done above

    // Initializing events
    AXIOS.get('/events').then(response =&gt; {this.events = response.data}).catch(e =&gt; {this.errorEvent = e});
  },</code></pre>
</div>
</div>
</li>
<li>
<p>Provide a dynamic list in the component and bind it to <strong>events</strong></p>
<div class="paragraph">
<p>Update your <em>EventRegistration.vue</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="html" class="language-html hljs">    &lt;span v-if="errorPerson" style="color:red"&gt;Error: {{errorPerson}}&lt;/span&gt;
    &lt;!-- This line above is the last line of the section we added in the previous section -- this is only here to ease the navigation in the code --&gt;

&lt;hr&gt;
  &lt;h2&gt;Events&lt;/h2&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;th&gt;Event Name&lt;/th&gt;
      &lt;th&gt;Date&lt;/th&gt;
      &lt;th&gt;Start&lt;/th&gt;
      &lt;th&gt;End&lt;/th&gt;
      &lt;!--&lt;th&gt;Edit&lt;/th&gt;--&gt;
    &lt;/tr&gt;
    &lt;tr v-for="event in events"&gt;
      &lt;td&gt;{{ event.name }}&lt;/td&gt;
      &lt;td&gt;{{ event.eventDate }}&lt;/td&gt;
      &lt;td&gt;{{ event.startTime }}&lt;/td&gt;
      &lt;td&gt;{{ event.endTime }}&lt;/td&gt;
      &lt;!--&lt;td&gt;
        &lt;button v-on:click="updateEvent(event.name)"&gt;Edit&lt;/button&gt;
      &lt;/td&gt;--&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
      &lt;span v-if="errorEvent" style="color:red"&gt;Error: {{errorEvent}} &lt;/span&gt;
&lt;hr&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Create a new event (name, date, startTime, endTime)</strong></p>
<div class="ulist">
<ul>
<li>
<p>Introduce an object <strong>newEvent</strong> in the frontend data store with four properties
(e.g. name, date, startTime, endTime).</p>
<div class="ulist">
<ul>
<li>
<p>Set the initial values of these properties to somet value</p>
<div class="paragraph">
<p>Update <em>registration.js</em> and add to <code>data()</code> at the top</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="javascript" class="language-javascript hljs">      newEvent: {
        name: '',
        eventDate: '2017-12-08',
        startTime: '09:00',
        endTime: '11:00'
      },
      errorEvent: '',</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Provide a button to initiate creating a new event and provide HTML input fields to set event details</p>
</li>
<li>
<p>Create a call to the appropriate backend service, i.e. <strong>createEvent()</strong></p>
<div class="paragraph">
<p>Update <em>EventRegistration.vue</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="html" class="language-html hljs">      &lt;!-- Add this to the bottom of the table created for displaying events --&gt;
  &lt;tr&gt;
      &lt;td&gt;
        &lt;input type="text" v-model="newEvent.name" placeholder="Event Name"&gt;
      &lt;/td&gt;
      &lt;td&gt;
        &lt;input type="date" v-model="newEvent.eventDate" placeholder="YYYY-MM-DD"&gt;
      &lt;/td&gt;
      &lt;td&gt;
        &lt;input type="time" v-model="newEvent.startTime" placeholder="HH:mm"&gt;
      &lt;/td&gt;
      &lt;td&gt;
        &lt;input type="time" v-model="newEvent.endTime" placeholder="HH:mm"&gt;
      &lt;/td&gt;
      &lt;td&gt;
          &lt;button v-bind:disabled="!newEvent.name" v-on:click="createEvent(newEvent.name, newEvent.eventDate, newEvent.startTime, newEvent.endTime)"&gt;Create&lt;/button&gt;
      &lt;/td&gt;
  &lt;/tr&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Introduce an object <strong>errorEvent</strong> for error message related to event creation</p>
<div class="paragraph">
<p>This one has been done for <em>registration.js</em> already (<code>errorEvent</code> in <code>data()</code>)</p>
</div>
</li>
<li>
<p>Provide corresponding HTML field for displaying the error message (e.g. <code>&lt;span&gt;</code>), and set
its appearance condition to the content of the error message</p>
<div class="paragraph">
<p>Update <em>EventRegistration.vue</em>: add the following code to the event table</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="html" class="language-html hljs">    &lt;span v-if="errorEvent" style="color:red"&gt;Error: {{errorEvent}} &lt;/span&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Register a person to an event</strong> (when a new event should occur in the
list of events printed next to a person)</p>
<div class="ulist">
<ul>
<li>
<p>Provide a selection of people</p>
<div class="ulist">
<ul>
<li>
<p>You need a corresponding data variable (e.g. <strong>selectedPerson</strong>)</p>
</li>
<li>
<p>You can use the HTML <code>&lt;select v-model="selectedPerson"&gt;</code> tag where each
option (<code>&lt;option&gt;</code> tag with <code>v-for</code> Vue.js parameter) is filled dynamically from
the list of people.</p>
</li>
<li>
<p><strong>Hint:</strong> You can add a first disabled option as follows:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;option disabled value=""&gt;Please select one&lt;/option&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Provide a selection of events in a similar way.</p>
</li>
<li>
<p>Provide a button to initiate registration</p>
</li>
<li>
<p>Enable the button only if both a person and an event are selected</p>
<div class="paragraph">
<p>The solution for the above bullet points (goes to <em>EventRegistration.vue</em>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="html" class="language-html hljs">  &lt;hr&gt;
    &lt;h2&gt;Registrations&lt;/h2&gt;
    &lt;label&gt;Person:
      &lt;select v-model="selectedPerson"&gt;
        &lt;option disabled value=""&gt;Please select one&lt;/option&gt;
        &lt;option v-for="person in persons" &gt;
          {{ person.name }}
        &lt;/option&gt;
      &lt;/select&gt;
    &lt;/label&gt;
    &lt;label&gt;Event:
      &lt;select v-model="selectedEvent"&gt;
        &lt;option disabled value=""&gt;Please select one&lt;/option&gt;
        &lt;option v-for="event in events" &gt;
          {{ event.name }}
        &lt;/option&gt;
      &lt;/select&gt;
    &lt;/label&gt;
    &lt;button v-bind:disabled="!selectedPerson || !selectedEvent" @click="registerEvent(selectedPerson,selectedEvent)"&gt;Register&lt;/button&gt;
    &lt;hr&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Implement the register method in <em>registration.js</em>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="javascript" class="language-javascript hljs">        registerEvent: function (personName, eventName) {
      var indexEv = this.events.map(x =&gt; x.name).indexOf(eventName)
      var indexPart = this.persons.map(x =&gt; x.name).indexOf(personName)
      var person = this.persons[indexPart]
      var event = this.events[indexEv]
      AXIOS.post('/register', {},
        {params: {
          person: person.name,
          event: event.name}})
      .then(response =&gt; {
        // Update appropriate DTO collections
        person.events.push(event)
        this.selectedPerson = ''
        this.selectedEvent = ''
        this.errorRegistration = ''
      })
      .catch(e =&gt; {
        var errorMsg = e
        console.log(errorMsg)
        this.errorRegistration = errorMsg
      })
    },</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To run your applicaiton, use <code>npm install</code> and <code>npm run dev</code></p>
</li>
<li>
<p>See <a href="https://github.com/Rijul5/eventregistration3" class="bare">https://github.com/Rijul5/eventregistration3</a> for the completed solution</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="truefurther-documentation"><a class="anchor" href="#truefurther-documentation"></a>3.5.2. Further documentation</h4>
<div class="ulist">
<ul>
<li>
<p>Vue.js guide: <a href="https://vuejs.org/v2/guide/" class="bare">https://vuejs.org/v2/guide/</a></p>
</li>
<li>
<p>Vue.js API: <a href="https://vuejs.org/v2/api/" class="bare">https://vuejs.org/v2/api/</a></p>
</li>
<li>
<p>Build commands: <a href="http://vuejs-templates.github.io/webpack/commands.html" class="bare">http://vuejs-templates.github.io/webpack/commands.html</a></p>
</li>
<li>
<p>Vue.js and Webpack integration: <a href="http://vuejs-templates.github.io/webpack/env.html" class="bare">http://vuejs-templates.github.io/webpack/env.html</a></p>
</li>
<li>
<p>Html-Webpack: <a href="https://github.com/jantimon/html-webpack-plugin" class="bare">https://github.com/jantimon/html-webpack-plugin</a></p>
</li>
<li>
<p>Vue Router: <a href="https://github.com/vuejs/vue-router" class="bare">https://github.com/vuejs/vue-router</a></p>
</li>
<li>
<p>Vue Router tutorial: <a href="https://scotch.io/tutorials/getting-started-with-vue-router" class="bare">https://scotch.io/tutorials/getting-started-with-vue-router</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-11-21 11:56:20 -0500
</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
<script>hljs.initHighlighting()</script>
</body>
</html>